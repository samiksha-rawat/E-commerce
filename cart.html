<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shopping Cart - YUVAA E-COMMERCE</title>
  <link rel="stylesheet" href="index.html">
  <script src="cart.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap');

    :root {
      --primary-color: #f7f6f6;
      --secondary-color: #fff;
      --tertiary-color: #000;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Oswald", sans-serif;
    }

    /* Header Styles */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: #fff;
      z-index: 1000;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    .navbar {
      display: flex;
      align-items: center;
      background: var(--primary-color);
      height: 60px;
      padding: 0 80px;
      justify-content: space-between;
    }

    #logo {
      font-size: 1.3rem;
      font-weight: 600;
      color: var(--tertiary-color);
      text-decoration: none;
    }

    .nav-menu {
      list-style: none;
      display: flex;
      gap: 40px;
    }

    .nav-menu a {
      text-decoration: none;
      color: var(--tertiary-color);
      padding: 0.5rem;
    }

    .search-box {
      display: flex;
      align-items: center;
      background: #f3f4f6;
      border-radius: 25px;
      padding: 5px 10px;
      margin-left: 20px;
    }

    .search-box input {
      border: none;
      outline: none;
      background: transparent;
      padding: 8px 10px;
      width: 250px;
      font-size: 13px;
    }

    .search-box button {
      border: none;
      background: transparent;
      cursor: pointer;
    }

    .nav-icons {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .nav-icons .icon {
      text-decoration: none;
      color: #333;
      font-size: 14px;
      font-weight: 500;
    }

    /* Main Content */
    main {
      margin-top: 80px;
      padding: 40px 8%;
      min-height: calc(100vh - 200px);
      background-color: #f8f8f8;
    }

    .cart-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .cart-header h1 {
      font-size: 2.5rem;
      color: #090909;
      margin-bottom: 10px;
      font-family: "Oswald", sans-serif;
    }

    .cart-header p {
      font-size: 1.1rem;
      color: #666;
    }

    .cart-container {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 40px;
    }

    .cart-items-section {
      background: white;
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
      overflow: hidden;
    }

    .cart-items-header {
      background: #f8f9fa;
      padding: 20px 30px;
      border-bottom: 1px solid #e9ecef;
    }

    .cart-items-header h2 {
      font-size: 1.5rem;
      color: #333;
      margin-bottom: 5px;
    }

    .cart-items-header p {
      color: #666;
      font-size: 0.95rem;
    }

    .cart-items-list {
      padding: 20px 0;
      max-height: 600px;
      overflow-y: auto;
    }

    .cart-item {
      display: grid;
      grid-template-columns: 120px 1fr auto auto auto;
      align-items: center;
      padding: 20px 30px;
      border-bottom: 1px solid #f1f3f4;
      gap: 20px;
    }

    .cart-item:last-child {
      border-bottom: none;
    }

    .item-image {
      width: 120px;
      height: 120px;
      background: #f5f5f5;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .item-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 8px;
    }

    .item-image.no-image::before {
      content: 'üñºÔ∏è';
      font-size: 2rem;
      color: #ccc;
    }

    .item-details h3 {
      font-size: 1.2rem;
      color: #333;
      margin-bottom: 8px;
      line-height: 1.3;
    }

    .item-price {
      font-size: 1.1rem;
      font-weight: bold;
      color: #e91e63;
    }

    .quantity-controls {
      display: flex;
      align-items: center;
      gap: 10px;
      background: #f8f9fa;
      border-radius: 8px;
      padding: 5px;
    }

    .quantity-btn {
      background: #fff;
      border: 1px solid #ddd;
      width: 32px;
      height: 32px;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.2s ease;
    }

    .quantity-btn:hover {
      background: #f0f0f0;
    }

    .quantity-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .quantity-input {
      width: 50px;
      text-align: center;
      border: none;
      background: transparent;
      font-weight: 500;
      font-size: 1rem;
    }

    .item-total {
      font-size: 1.2rem;
      font-weight: bold;
      color: #333;
      min-width: 80px;
    }

    .remove-item-btn {
      background: #ff4757;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.3s ease;
    }

    .remove-item-btn:hover {
      background: #ff3838;
      transform: translateY(-1px);
    }

    /* Cart Summary */
    .cart-summary {
      background: white;
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
      padding: 30px;
      height: fit-content;
      position: sticky;
      top: 120px;
    }

    .summary-header {
      border-bottom: 1px solid #e9ecef;
      padding-bottom: 20px;
      margin-bottom: 20px;
    }

    .summary-header h3 {
      font-size: 1.4rem;
      color: #333;
    }

    .summary-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
      font-size: 1rem;
    }

    .summary-row.total {
      font-size: 1.3rem;
      font-weight: bold;
      color: #e91e63;
      padding-top: 15px;
      border-top: 1px solid #e9ecef;
      margin-top: 20px;
    }

    .promo-code {
      margin: 20px 0;
    }

    .promo-input {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      margin-bottom: 10px;
      font-size: 1rem;
    }

    .apply-promo-btn {
      width: 100%;
      background: #333;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    .apply-promo-btn:hover {
      background: #555;
    }

    .checkout-btn {
      width: 100%;
      background: #2ed573;
      color: white;
      border: none;
      padding: 15px;
      border-radius: 8px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 20px;
    }

    .checkout-btn:hover {
      background: #26c767;
      transform: translateY(-2px);
    }

    .checkout-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
    }

    /* Empty Cart */
    .empty-cart {
      grid-column: 1 / -1;
      text-align: center;
      padding: 80px 20px;
      background: white;
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }

    .empty-cart-icon {
      font-size: 4rem;
      margin-bottom: 20px;
      opacity: 0.5;
    }

    .empty-cart h2 {
      font-size: 1.8rem;
      color: #666;
      margin-bottom: 15px;
    }

    .empty-cart p {
      font-size: 1.1rem;
      color: #999;
      margin-bottom: 30px;
    }

    .action-btn {
      padding: 12px 25px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
      margin: 0 10px;
    }

    .continue-shopping-btn {
      background: #2ed573;
      color: white;
    }

    .continue-shopping-btn:hover {
      background: #26c767;
      transform: translateY(-2px);
    }

    .clear-cart-btn {
      background: #ff4757;
      color: white;
    }

    .clear-cart-btn:hover {
      background: #ff3838;
      transform: translateY(-2px);
    }

    .popup {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: #333;
      color: white;
      padding: 15px 25px;
      border-radius: 8px;
      display: none;
      z-index: 1001;
      box-shadow: 0 8px 25px rgba(0,0,0,0.2);
      animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .popup.success {
      background: #2ed573;
    }

    .popup.error {
      background: #ff4757;
    }

    /* Footer */
    .footer {
      background-color: #111;
      color: #fff;
      padding: 60px 8% 20px;
      margin-top: 40px;
    }

    .footer-content {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 40px;
    }

    .footer-section h3 {
      font-size: 1.3rem;
      margin-bottom: 15px;
    }

    .footer-section p {
      font-size: 0.95rem;
      line-height: 1.6;
      color: #ccc;
    }

    .footer-bottom {
      text-align: center;
      margin-top: 40px;
      font-size: 0.9rem;
      color: #777;
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
      .cart-container {
        grid-template-columns: 1fr;
        gap: 30px;
      }

      .cart-summary {
        position: static;
      }
    }

    @media (max-width: 768px) {
      .navbar {
        padding: 0 20px;
      }

      main {
        padding: 20px 5%;
      }

      .cart-header h1 {
        font-size: 2rem;
      }

      .cart-item {
        grid-template-columns: 80px 1fr;
        gap: 15px;
        padding: 15px 20px;
      }

      .item-image {
        width: 80px;
        height: 80px;
      }

      .quantity-controls,
      .item-total,
      .remove-item-btn {
        grid-column: 1 / -1;
        justify-self: start;
        margin-top: 10px;
      }

      .quantity-controls {
        justify-self: center;
      }

      .search-box,
      .nav-icons {
        display: none;
      }

      .footer-content {
        flex-direction: column;
        gap: 30px;
      }
    }

    @media (max-width: 480px) {
      .popup {
        right: 20px;
        left: 20px;
        bottom: 20px;
      }

      .action-btn {
        display: block;
        margin: 10px 0;
      }
    }
  </style>
</head>
<body>
  <header>
    <nav class="navbar">
      <a href="index.html" id="logo">YUVAA</a>
      
      <ul class="nav-menu">
        <li><a href="men.html">MEN</a></li>
        <li><a href="women.html">WOMEN</a></li>
        <li><a href="kids.html">KIDS</a></li>
        <li><a href="beauty.html">BEAUTY</a></li>
      </ul>

      <div class="search-box">
        <input type="text" placeholder="Search for products, brands and more...">
        <button>üîç</button>
      </div>

      <div class="nav-icons">
        <a href="wishlist.html" class="icon">‚ù§Ô∏è <span>Wishlist (<span id="wishlist-count">0</span>)</span></a>
        <a href="cart.html" class="icon">üõçÔ∏è <span>Cart (<span id="cart-count">0</span>)</span></a>
      </div>
    </nav>
  </header>

  <main>
    <div class="cart-header">
      <h1>SHOPPING CART</h1>
      <p>Review and manage your selected items</p>
    </div>

    <div class="cart-container" id="cart-container">
      <div id="empty-cart" class="empty-cart">
        <div class="empty-cart-icon">üõí</div>
        <h2>Your cart is empty</h2>
        <p>Add some amazing products to your cart and they'll appear here!</p>
        <a href="index.html" class="action-btn continue-shopping-btn">Start Shopping</a>
        <a href="wishlist.html" class="action-btn continue-shopping-btn">View Wishlist</a>
      </div>

      <div id="cart-content" class="cart-items-section" style="display: none;">
        <div class="cart-items-header">
          <h2>Cart Items</h2>
          <p id="cart-items-count">0 items in your cart</p>
        </div>
        <div class="cart-items-list" id="cart-items-list"></div>
        <div style="padding: 20px 30px;">
          <button class="action-btn clear-cart-btn" id="clear-cart">üóëÔ∏è Clear Cart</button>
          <a href="index.html" class="action-btn continue-shopping-btn">Continue Shopping</a>
        </div>
      </div>

      <div id="cart-summary" class="cart-summary" style="display: none;">
        <div class="summary-header">
          <h3>Order Summary</h3>
        </div>
        
        <div class="summary-row">
          <span>Subtotal (<span id="summary-items-count">0</span> items):</span>
          <span id="subtotal">‚Çπ0</span>
        </div>
        
        <div class="summary-row">
          <span>Shipping:</span>
          <span id="shipping">Free</span>
        </div>
        
        <div class="summary-row">
          <span>Tax:</span>
          <span id="tax">‚Çπ0</span>
        </div>

        <div id="discount-row" class="summary-row" style="display: none;">
          <span>Discount:</span>
          <span id="discount" style="color: #2ed573;">-‚Çπ0</span>
        </div>
        
        <div class="summary-row total">
          <span>Total:</span>
          <span id="total">‚Çπ0</span>
        </div>

        <div class="promo-code">
          <input type="text" class="promo-input" id="promo-input" placeholder="Enter promo code">
          <button class="apply-promo-btn" id="apply-promo">Apply Code</button>
        </div>
        
        <button class="checkout-btn" id="checkout-btn" disabled>
          Proceed to Checkout
        </button>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="container footer-content">
      <div class="footer-section about">
        <h3>YUVAA</h3>
        <p>Leading fashion brand providing premium clothing and accessories for all styles and occasions.</p><br> <hr>
        <p><h3>PROMO CODES</h3>
       "WELCOME10": ( discount: 10, type: "percentage", description: "10% off" )<br>
        "SAVE50": ( discount: 50, type: "fixed", description: "‚Çπ50 off" )<br>
        "FIRST20": ( discount: 20, type: "percentage", description: "20% off" ),<br>
        "FLAT100": ( discount: 100, type: "fixed", description: "‚Çπ100 off" )</p>
      </div>
      
      <div class="footer-section links">
        <h3>Quick Links</h3>
        <p><a href="index.html" style="color: #ccc; text-decoration: none;">Home</a></p>
        <p><a href="#" style="color: #ccc; text-decoration: none;">Shop</a></p>
        <p><a href="#" style="color: #ccc; text-decoration: none;">About</a></p>
        <p><a href="#" style="color: #ccc; text-decoration: none;">Contact</a></p>
      </div>
    </div>

    <div class="footer-bottom">
      <p>&copy; 2025 YUVAA. All rights reserved.</p>
    </div>
  </footer>

  <div id="popup" class="popup"></div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Product data mapping with proper image paths
      const productData = {
        "Open Knit: Slate Polos": {
          price: 1499,
          image: "assets/t1-f.avif"
        },
        "Demon Slayer: Rengoku Oversized T-Shirts": {
          price: 1050,
          image: "assets/t2-f.avif"
        },
        "Demon Slayer: Rengoku": {
          price: 1050,
          image: "assets/t2-f.avif"
        },
        "Cotton Linen: Russet Brown Shirts": {
          price: 1499,
          image: "assets/t3-f.avif"
        },
        "Cotton Linen: Russet Brown": {
          price: 1499,
          image: "assets/t3-f.avif"
        },
        "Hello Kitty: Varsity Women Oversized T-Shirts": {
          price: 999,
          image: "assets/t5-f.avif"
        },
        "Hello Kitty: Varsity Tee": {
          price: 999,
          image: "assets/t5-f.avif"
        },
        "Solids: Charcoal (Straight Fit) Women Jeans": {
          price: 1899,
          image: "assets/wj1-f.avif"
        },
        "Solids: Charcoal Jeans": {
          price: 1899,
          image: "assets/wj1-f.avif"
        },
        "Attack On Titan: Eren Boyfriend T-Shirts": {
          price: 999,
          image: "assets/wt2-f.avif"
        },
        "Attack On Titan: Eren Tee": {
          price: 999,
          image: "assets/wt2-f.avif"
        }
      };

      // Promo codes
      const promoCodes = {
        "WELCOME10": { discount: 10, type: "percentage", description: "10% off" },
        "SAVE50": { discount: 50, type: "fixed", description: "‚Çπ50 off" },
        "FIRST20": { discount: 20, type: "percentage", description: "20% off" },
        "FLAT100": { discount: 100, type: "fixed", description: "‚Çπ100 off" }
      };

      // Get elements
      const cartContainer = document.getElementById("cart-container");
      const emptyCart = document.getElementById("empty-cart");
      const cartContent = document.getElementById("cart-content");
      const cartSummary = document.getElementById("cart-summary");
      const cartItemsList = document.getElementById("cart-items-list");
      const cartCount = document.getElementById("cart-count");
      const wishlistCount = document.getElementById("wishlist-count");
      const cartItemsCount = document.getElementById("cart-items-count");
      const summaryItemsCount = document.getElementById("summary-items-count");
      const subtotalElement = document.getElementById("subtotal");
      const shippingElement = document.getElementById("shipping");
      const taxElement = document.getElementById("tax");
      const totalElement = document.getElementById("total");
      const discountRow = document.getElementById("discount-row");
      const discountElement = document.getElementById("discount");
      const promoInput = document.getElementById("promo-input");
      const applyPromoBtn = document.getElementById("apply-promo");
      const checkoutBtn = document.getElementById("checkout-btn");
      const clearCartBtn = document.getElementById("clear-cart");
      const popup = document.getElementById("popup");

      // Load cart and wishlist from storage
      let cart = JSON.parse(window.localStorage?.getItem("cart")) || [];
      let wishlist = JSON.parse(window.localStorage?.getItem("wishlist")) || [];
      let appliedPromo = null;

      // Function to show popup
      function showPopup(message, type = "success") {
        popup.textContent = message;
        popup.className = `popup ${type}`;
        popup.style.display = "block";
        setTimeout(() => {
          popup.style.display = "none";
        }, 3000);
      }

      // Function to update cart count
      function updateCartCount() {
        const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
        if (cartCount) cartCount.textContent = totalItems;
      }

      // Function to update wishlist count
      function updateWishlistCount() {
        if (wishlistCount) wishlistCount.textContent = wishlist.length;
      }

      // Function to calculate subtotal
      function calculateSubtotal() {
        return cart.reduce((sum, item) => {
          const product = productData[item.name];
          const price = product ? product.price : 999;
          return sum + (price * item.quantity);
        }, 0);
      }

      // Function to calculate tax (18% GST)
      function calculateTax(subtotal) {
        return Math.round(subtotal * 0.18);
      }

      // Function to calculate discount
      function calculateDiscount(subtotal) {
        if (!appliedPromo) return 0;
        
        const promo = promoCodes[appliedPromo];
        if (!promo) return 0;

        if (promo.type === "percentage") {
          return Math.round(subtotal * (promo.discount / 100));
        } else {
          return Math.min(promo.discount, subtotal);
        }
      }

      // Function to update cart summary
      function updateCartSummary() {
        const subtotal = calculateSubtotal();
        const tax = calculateTax(subtotal);
        const discount = calculateDiscount(subtotal);
        const total = subtotal + tax - discount;
        const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);

        cartItemsCount.textContent = `${totalItems} item${totalItems !== 1 ? 's' : ''} in your cart`;
        summaryItemsCount.textContent = totalItems;
        subtotalElement.textContent = `‚Çπ${subtotal.toLocaleString()}`;
        taxElement.textContent = `‚Çπ${tax.toLocaleString()}`;
        totalElement.textContent = `‚Çπ${total.toLocaleString()}`;

        if (discount > 0) {
          discountRow.style.display = "flex";
          discountElement.textContent = `-‚Çπ${discount.toLocaleString()}`;
        } else {
          discountRow.style.display = "none";
        }

        // Enable/disable checkout button
        checkoutBtn.disabled = cart.length === 0;
      }

      // Function to update quantity
      function updateQuantity(itemName, newQuantity) {
        const item = cart.find(item => item.name === itemName);
        if (item) {
          if (newQuantity <= 0) {
            removeFromCart(itemName);
          } else {
            item.quantity = newQuantity;
            if (window.localStorage) {
              window.localStorage.setItem("cart", JSON.stringify(cart));
            }
            renderCart();
          }
        }
      }

      // Function to remove item from cart
      function removeFromCart(itemName) {
        const index = cart.findIndex(item => item.name === itemName);
        if (index > -1) {
          cart.splice(index, 1);
          if (window.localStorage) {
            window.localStorage.setItem("cart", JSON.stringify(cart));
          }
          showPopup(`${itemName} removed from cart!`, "error");
          renderCart();
        }
      }

      // Function to render cart items
      function renderCart() {
        updateCartCount();
        updateWishlistCount();

        if (cart.length === 0) {
          emptyCart.style.display = "block";
          cartContent.style.display = "none";
          cartSummary.style.display = "none";
          return;
        }

        emptyCart.style.display = "none";
        cartContent.style.display = "block";
        cartSummary.style.display = "block";

        cartItemsList.innerHTML = "";

        cart.forEach(item => {
          const product = productData[item.name] || { price: 999, image: null };
          const itemTotal = product.price * item.quantity;

          const cartItem = document.createElement("div");
          cartItem.className = "cart-item";

          const imageContent = product.image 
            ? `<img src="${product.image}" alt="${item.name}" onerror="this.parentElement.classList.add('no-image'); this.style.display='none';">`
            : '';

          cartItem.innerHTML = `
            <div class="item-image ${!product.image ? 'no-image' : ''}">
              ${imageContent}
            </div>
            <div class="item-details">
              <h3>${item.name}</h3>
              <div class="item-price">‚Çπ${product.price.toLocaleString()}</div>
            </div>
            <div class="quantity-controls">
              <button class="quantity-btn" onclick="updateQuantity('${item.name.replace(/'/g, "\\'")}', ${item.quantity - 1})" ${item.quantity <= 1 ? 'disabled' : ''}>-</button>
              <input type="number" class="quantity-input" value="${item.quantity}" min="1" max="10" onchange="updateQuantity('${item.name.replace(/'/g, "\\'")}', parseInt(this.value) || 1)">
              <button class="quantity-btn" onclick="updateQuantity('${item.name.replace(/'/g, "\\'")}', ${item.quantity + 1})" ${item.quantity >= 10 ? 'disabled' : ''}>+</button>
            </div>
            <div class="item-total">‚Çπ${itemTotal.toLocaleString()}</div>
            <button class="remove-item-btn" onclick="removeFromCart('${item.name.replace(/'/g, "\\'")}')">Remove</button>
          `;

          cartItemsList.appendChild(cartItem);
        });

        updateCartSummary();
      }

      // Function to apply promo code
      function applyPromoCode() {
        const code = promoInput.value.trim().toUpperCase();
        
        if (!code) {
          showPopup("Please enter a promo code", "error");
          return;
        }

        if (promoCodes[code]) {
          if (appliedPromo === code) {
            showPopup("This promo code is already applied", "error");
            return;
          }
          
          appliedPromo = code;
          promoInput.value = code;
          promoInput.disabled = true;
          applyPromoBtn.textContent = "Applied ‚úì";
          applyPromoBtn.disabled = true;
          applyPromoBtn.style.background = "#2ed573";
          
          showPopup(`Promo code applied! ${promoCodes[code].description}`, "success");
          updateCartSummary();
        } else {
          showPopup("Invalid promo code", "error");
        }
      }

      // Function to clear cart
      function clearCart() {
        if (confirm("Are you sure you want to clear all items from your cart?")) {
          cart = [];
          appliedPromo = null;
          if (window.localStorage) {
            window.localStorage.setItem("cart", JSON.stringify(cart));
          }
          showPopup("Cart cleared!", "error");
          renderCart();
          resetPromoCode();
        }
      }

      // Function to reset promo code
      function resetPromoCode() {
        appliedPromo = null;
        promoInput.value = "";
        promoInput.disabled = false;
        applyPromoBtn.textContent = "Apply Code";
        applyPromoBtn.disabled = false;
        applyPromoBtn.style.background = "#333";
      }

      // Function to proceed to checkout
      function proceedToCheckout() {
        if (cart.length === 0) {
          showPopup("Your cart is empty!", "error");
          return;
        }

        const total = calculateSubtotal() + calculateTax(calculateSubtotal()) - calculateDiscount(calculateSubtotal());
        showPopup(`Proceeding to checkout for ‚Çπ${total.toLocaleString()}...`, "success");
        
        // Here you would typically redirect to a checkout page or payment gateway
        setTimeout(() => {
          alert(`Checkout functionality would be implemented here.\nTotal: ‚Çπ${total.toLocaleString()}\nItems: ${cart.length}\nThank you for shopping with YUVAA!`);
        }, 1500);
      }

      // Event listeners
      applyPromoBtn.addEventListener("click", applyPromoCode);
      clearCartBtn.addEventListener("click", clearCart);
      checkoutBtn.addEventListener("click", proceedToCheckout);

      // Handle promo input enter key
      promoInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          applyPromoCode();
        }
      });

      // Make functions global for onclick handlers
      window.updateQuantity = updateQuantity;
      window.removeFromCart = removeFromCart;

      // Initial render
      renderCart();

      // Auto-save cart periodically (every 30 seconds)
      setInterval(() => {
        if (window.localStorage && cart.length > 0) {
          window.localStorage.setItem("cart", JSON.stringify(cart));
        }
      }, 30000);
    });
  </script>
</body>
</html>